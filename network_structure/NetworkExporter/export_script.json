{
	"name": "export_script",
	"OPType": "textDAT",
	"comment": "",
	"nodeX": 275,
	"nodeY": 275,
	"nodeWidth": 130,
	"nodeHeight": 90,
	"storage": {},
	"tags": [],
	"replicator": null,
	"activeViewer": false,
	"allowCooking": true,
	"bypass": false,
	"cloneImmune": false,
	"render": false,
	"viewer": true,
	"inputConnectors": [
		{}
	],
	"outputConnectors": [
		{}
	],
	"par": [],
	"text": [
		"import module_extract",
		"import json",
		"import os",
		"import shutil",
		"",
		"outdir = tdu.expandPath(op('parameter1')['Outdir', 'value'])",
		"op_list = op('opfind1')",
		"op_list.par.cookpulse.pulse()",
		"if os.path.exists(outdir):",
		"\tshutil.rmtree(outdir)",
		"",
		"ignore_tox = op('par1')['Ignoreinsideexternaltox'][0]",
		"ignore_list = []",
		"",
		"for i in range(1, op_list.numRows):",
		"\tpath = op_list[i, 'path'].val",
		"\tif any([path.startswith(ignore) for ignore in ignore_list]):",
		"\t\tcontinue",
		"\toperator = op(path)",
		"\tif ignore_tox and operator.isCOMP and operator.par.externaltox != \"\":",
		"\t\tignore_list.append(path)",
		"\toutpath = outdir+path+'.json'",
		"\tos.makedirs(os.path.dirname(outpath), exist_ok=True)",
		"\twith open(outpath, 'w') as f:",
		"\t    json.dump(module_extract.extractOp(operator), f, indent='\\t')",
		""
	]
}